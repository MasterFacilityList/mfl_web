<div class="row">
<div class="col-lg-12" ng-if="spinneractive" style="text-align: center">
    <div class="map-change-state">
        <div class="loader"></div>
        <div class="row">
            <h3 class="text-center loader-text">Please wait...</h3>
        </div>
    </div>
</div>
<div class="col-xs-12" ng-if="!spinneractive">
    <div class="col-xs-12 margin-t-20 margin-b-10">
        <div class="col-xs-12 ">
            <span class="pull-right">
                <a class="action-btn action-btn-md action-btn-primary"  data-trigger="hover" data-type="success" data-title="View Patient" bs-tooltip title="print facility details" target="download" download href="{{file_url}}">
                    <i class="fa fa-print"></i>
                </a>
                <button class="action-btn action-btn-md action-btn-primary" onclick="window.history.back()" data-trigger="hover" data-type="success" data-title="View Patient" bs-tooltip title="Go back">
                    <i class="fa fa-arrow-left"></i>
                </button>
            </span>
        </div>
    </div>
    <div ng-if="alert_main">
        <div  class="col-xs-12 fade-content alert alert-danger margin-t-20">
            <p class="lead">Sorry, a server connection error occured.</p>
        </div>
    </div>
    <div class="col-xs-12" ng-if="!alert_main">
        <div class="col-md-8 col-xs-12 content-card margin-b-20 fade-content">
        <!-- Important data first displayed here -->
        <div class="row">
            <h3 class="fw-500  hidden-xs col-xs-12">
                    <span class="fs-26">{{oneFacility.code}}</span> | {{oneFacility.name}}
            </h3>
            <h4 class="fw-500  visible-xs col-xs-12">
                    <span class="fs-22">{{oneFacility.code}}</span> | {{oneFacility.name}}
            </h4>
            <hr style="border: 1px solid #F0F0F0;">
            <br>
            <h4 class="margin-t--27 fw-500">
                <span class="pull-left col-md-6 col-xs-12">
                    <label>Type: </label>
                    {{oneFacility.facility_type_name}}
                </span>
            </h4>
            <br>
            <h4>
                <div class="pull-left col-xs-12">
                    <p ><b class="fs-16 text-black">Regulatory Body:</b>
                    <span class="fs-16">
                        {{oneFacility.regulatory_body_name}}
                    </span></p>
                </div>
            </h4>
            <br>
            <h4>
                <div class="pull-left col-md-6 col-xs-12">
                    <p ><b class="fs-15 text-black">Operation status:</b>
                    <span class="fs-15 label label-success fs-13">
                        {{oneFacility.operation_status_name}}
                    </span></p>
                </div>
                <span class="content-right fs-14 col-md-6 col-xs-12" ng-if="oneFacility.open_weekends">
                    <label>Open weekends </label>
                    <span ng-show="oneFacility.open_weekends" class="text-success">
                        <i class="fa fa-check-circle-o fa-1x fs-15"></i>
                    </span>
                    <span ng-hide="oneFacility.open_weekends" class="text-danger">
                        <i class="fa fa-times-circle-o fa-1x fs-15"></i>
                    </span>
                </span>
            </h4>
            <br>
            <h4>
                <div class="pull-left col-md-6 col-xs-12">
                    <p ><b class="fs-15 text-black">Regulation Status:</b>
                    <span class="fs-13 label label-warning">
                        {{oneFacility.regulatory_status_name}}
                    </span></p>
                </div>
                <span class="content-right fs-14 col-md-6 col-xs-12" ng-if="oneFacility.open_whole_day">
                    <label>Open 24 hours </label>
                    <span ng-show="oneFacility.open_whole_day" class="text-success">
                        <i class="fa fa-check-circle-o fa-1x fs-15"></i>
                    </span>
                    <span ng-hide="oneFacility.open_whole_day" class="text-danger">
                        <i class="fa fa-times-circle-o fa-1x fs-15"></i>
                    </span>
                </span>
            </h4>
            <br>
            <br>
            <h4 class="fs-14 margin-t--15">
                <span class="pull-left col-md-6 col-xs-12">
                    <label>Beds: </label>
                    {{oneFacility.number_of_beds}}
                </span>
                <span class="content-right col-md-6 col-xs-12" ng-if="oneFacility.open_late_night">
                    <label>Open late night </label>
                    <span ng-show="oneFacility.open_late_night" class="text-success">
                        <i class="fa fa-check-circle-o fa-1x fs-15"></i>
                    </span>
                    <span ng-hide="oneFacility.open_late_night" class="text-danger">
                        <i class="fa fa-times-circle-o fa-1x fs-15"></i>
                    </span>
                </span>
            </h4>
            <br>
            <h4 class="fs-14 margin-t--5">
                <span class="pull-left col-md-6 col-xs-12">
                    <label>Cots: </label>
                    {{oneFacility.number_of_cots}}
                </span>
                <span class="content-right col-md-6 col-xs-12" ng-if="oneFacility.open_public_holidays">
                    <label>Open on public holidays </label>
                    <span ng-show="oneFacility.open_public_holidays" class="text-success">
                        <i class="fa fa-check-circle-o fa-1x fs-15"></i>
                    </span>
                    <span ng-hide="oneFacility.open_public_holidays" class="text-danger">
                        <i class="fa fa-times-circle-o fa-1x fs-15"></i>
                    </span>
                </span>
            </h4>
            <br>
            <!-- Display location details  -->
            <hr style="border: 1px solid #F0F0F0;" ng-if="oneFacility.officer_in_charge !== null">
            <h4 class="fs-20 fw-600  col-xs-12" ng-if="oneFacility.officer_in_charge !== null">
            <span class="fa-stack fa-lg fs-13">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-user-md fa-stack-1x fa-inverse"></i>
            </span> Officer in charge</h4>
            <br ng-if="oneFacility.officer_in_charge !== null">
            <h4 class="fs-14 fw-500" ng-if="oneFacility.officer_in_charge.name !== null">
                <span class="pull-left col-md-6 col-xs-12" ng-if="oneFacility.officer_in_charge !== null">
                    <label>Name: </label>
                    {{oneFacility.officer_in_charge.name}}
                </span>
                <span class="content-right fs-14 col-md-6 col-xs-12" ng-if="oneFacility.officer_in_charge !== null">
                    <label>Registration/License #: </label>
                    {{oneFacility.officer_in_charge.reg_no}}
                </span>
            </h4>
            <br ng-if="oneFacility.officer_in_charge !== null">
            <h4 class="fs-14 fw-500 margin-t-3" ng-if="oneFacility.officer_in_charge !== null">
                <span class="pull-left col-xs-12">
                    <label>Job Title: </label>
                    {{oneFacility.officer_in_charge.title_name}}
                </span>
            </h4>
            <br ng-if="oneFacility.officer_in_charge !== null">
            <!-- Display location details  -->
            <hr style="border: 1px solid #F0F0F0;">
            <h4 class="fs-20 fw-600  col-xs-12">
            <span class="fa-stack fa-lg fs-13">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-map-marker fa-stack-1x fa-inverse"></i>
            </span> Location</h4>
            <br>
            <h4 class="fs-14 fw-500  hidden-sm hidden-xs">
                <a ui-sref="gis.gis_county({county_id:oneFacility.boundaries.county_boundary,const_boundaries:const_boundaries})">
                <span class="fs-14 fw-500 text-blue col-md-6 col-xs-12 margin-b-5">
                    {{oneFacility.county}} COUNTY
                </span></a>
                <span class="content-right col-md-6 col-xs-12 margin-b-5">
                    <a ui-sref="gis.gis_county.gis_const({county_id:oneFacility.boundaries.county_boundary,const_boundaries:const_boundaries,const_id:oneFacility.boundaries.constituency_boundary,ward_boundaries:ward_boundaries})">
                        <span class="fs-14 fw-500 text-blue">{{oneFacility.constituency}} SUB-COUNTY</span>
                    </a>
                </span>
            </h4>
            <h5 class="fs-14 fw-500  visible-sm visible-xs">
                <span class="pull-left col-md-6 col-xs-12">
                    {{oneFacility.county}} COUNTY
                </span>
                <span class="content-right col-md-6 col-xs-12">
                        {{oneFacility.constituency}} SUB-COUNTY
                </span>
            </h5>
            <br>
            <h4 class="fs-16 fw-500  hidden-sm hidden-xs margin-t-15">
                <span class="fs-14 fw-500 pull-left col-md-6 col-xs-12">
                    <a ui-sref="gis.gis_county.gis_const.gis_ward({county_id:oneFacility.boundaries.county_boundary,const_boundaries:const_boundaries,const_id:oneFacility.boundaries.constituency_boundary,const_boundaries:const_boundaries,ward_id:oneFacility.boundaries.ward_boundary})">
                    <span class="text-blue">{{oneFacility.ward_name}} WARD</span>
                    </a>
                </span>
                <span class="content-right col-md-6 col-xs-12 fs-14" ng-if="neFacility.facility_physical_address.town !== null">
                    {{oneFacility.town_name}} town
                </span>
            </h4>
            <h5 class="fs-14 fw-500 visible-sm visible-xs margin-t-15">
                <span class="pull-left col-md-6 col-xs-12">
                    {{oneFacility.ward_name}} WARD
                </span>
                <span class="content-right col-md-6 col-xs-12" ng-if="neFacility.town !== null">
                {{oneFacility.town_name}} town
                </span>
            </h5>
            <br>
            <h5 class="fs-14 fw-500" ng-if="oneFacility.plot_number !== null">
                <span class="pull-left col-xs-12" >
                    <label>Plot number: </label>
                    {{oneFacility.plot_number}}
                </span>
            </h5>
            <br ng-if="oneFacility.plot_number !== null">
            <h4 class="fs-14 fw-500" ng-if="oneFacility.location_desc !== null">
                <p class="lead fs-14 col-xs-12">
                    <label>Specific directions: </label>
                    {{oneFacility.location_desc}}
                </p>
            </h4>
            <!-- End of locatin displays -->
        </div>

        </div>
        <!-- Extra details displayed here =========================== -->
        <div class="side-cont col-md-4 col-xs-12 pull-right pad-l-20">
            <div class="col-xs-12 results-card margin-b-10">
                <div class="col-xs-2 margin-t-5 pad-l-0">
                    <span class="fa-stack fa-lg text-blue fs-26">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-user-secret fa-stack-1x fa-inverse"></i>
                    </span>
                </div>
                <div class="col-md-9 col-xs-10 pad-l-0 margin-t-3">
                    <p class="fw-500">
                        <span class="pad-t-5">
                            <h5 class="fs-14 fw-500"><label>Owner: </label> {{oneFacility.owner_name}}</h5>
                            <h5 class="fs-12 fw-500 margin-t--5"><label>Category: </label> {{oneFacility.owner_type_name}}</h5>
                        </span>
                    </p>
                </div>
            </div>
            <br><br>
            <div class="col-xs-12 results-card margin-b-10" ng-if="oneFacility.facility_contacts.length !== 0">
                <div class="col-xs-2 margin-t-5 pad-l-0">
                    <span class="fa-stack fa-lg text-blue fs-26">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-phone fa-stack-1x fa-inverse"></i>
                    </span>
                </div>
                <div class="col-xs-10 pad-l-0 margin-t-3">
                <p ng-repeat="cont in oneFacility.facility_contacts" class="fw-500 margin-b-0">
                    <span  class="fs-14">
                        <label>
                            {{cont.contact_type_name}} :
                        </label>
                        {{cont.contact}}
                    </span>
                </p>
                </div>
            </div>
        </div>
        <!-- End of displaying extra details  -->
    </div>

    <div class="col-xs-12 margin-b-20 margin-t-20" ng-if="!alert_main">
        <!-- Start of tabbed multi step form  -->
            <ul class="nav nav-tabs col-sm-12">
                <li ui-sref-active="active">
                    <a ui-sref=".services">
                        <span class="fw-900">
                            <i class="fa fa-exchange"></i> Facility Services
                        </span>
                    </a>
                </li>
                <li ui-sref-active="active">
                    <a ui-sref=".regulation">
                        <span class="fw-900 ">
                            <i class="fa fa-gavel"></i> Regulation
                        </span>
                    </a>
                </li>
                <li ui-sref-active="active">
                    <a ui-sref=".units">
                        <span class="fw-900 ">
                            <i class="fa fa-hospital-o"></i> Community Health Units
                        </span>
                    </a>
                </li>
                <li ui-sref-active="active" class="hidden-sm hidden-xs">
                    <a ui-sref=".map">
                        <span class="fw-900 ">
                            <i class="fa fa-map-marker"></i> Show facility on map
                        </span>
                    </a>
                </li>
            </ul>
            <div class="tab-content margin-t-20">
                <div class="pad-t-20" ui-view="form-view"></div>
            </div><!-- /tab-content -->
        <!-- end of tabbed multistep form -->
    </div>
    </div>
</div>
